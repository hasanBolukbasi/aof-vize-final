<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AÃ–F Vize Final HesaplayÄ±cÄ±</title>

<style>
body {
  margin: 0;
  font-family: "Segoe UI", Arial, sans-serif;
  background: linear-gradient(135deg, #eef2f7, #f9fafb);
}
.wrapper { display: flex; min-height: 100vh; }
.sidebar { width: 220px; background: #1f66d1; padding: 20px; }
.sidebar button {
  width: 100%; padding: 14px; margin-bottom: 12px;
  border: none; border-radius: 8px;
  background: rgba(255,255,255,0.9);
  color: #1f66d1; font-weight: 600; cursor: pointer;
}
.sidebar button.active {
  background: #ffffff;
  box-shadow: 0 4px 8px rgba(0,0,0,0.15);
}
.content { flex: 1; padding: 20px; }
.card {
  max-width: 760px; margin: auto; background: white;
  padding: 24px; border-radius: 14px;
  box-shadow: 0 10px 25px rgba(0,0,0,0.08);
}
h2 { text-align: center; margin-top: 0; }
label { display: block; margin-top: 14px; font-weight: 600; }
input, button {
  width: 100%; padding: 12px; margin-top: 6px;
  font-size: 16px; box-sizing: border-box; border-radius: 8px;
}
input { border: 1px solid #ccc; }
button.action {
  background: #2b7cff; color: white;
  border: none; margin-top: 18px; cursor: pointer;
}
.result { margin-top: 16px; text-align: center; font-weight: bold; }
.table-wrap { overflow-x: auto; }
table {
  width: 100%; border-collapse: collapse;
  margin-top: 10px; min-width: 650px;
}
th, td {
  border: 1px solid #ddd;
  padding: 8px; text-align: center;
}
.hidden { display: none; }
@media (max-width: 768px) {
  .wrapper { flex-direction: column; }
  .sidebar { width: 100%; display: flex; gap: 10px; }
  .sidebar button { flex: 1; margin-bottom: 0; }
}
</style>
</head>

<body>

<div class="wrapper">
<div class="sidebar">
  <button class="active" onclick="sekme('tek', this)">Tek Ders</button>
  <button onclick="sekme('cok', this)">Ã‡oklu Ders</button>
</div>

<div class="content">

<div id="tek" class="card">
  <h2>AÃ–F Ortalama ve Finalden AlÄ±nmasÄ± Gereken En Az Notu Hesaplama</h2>
  <label>Vize</label>
  <input type="number" id="vize">
  <label>Final (GeÃ§mek iÃ§in alÄ±nmasÄ± gereken en az notu bulmak iÃ§in boÅŸ bÄ±rakÄ±n)</label>
  <input type="number" id="final">
  <button class="action" onclick="tekHesapla()">Hesapla</button>
  <div class="result" id="tekSonuc"></div>
  <label>Bu KÃ¢r AmacÄ± GÃ¼tmeyen UygulamamÄ±z Ä°ÅŸinize YaradÄ±ysa LÃ¼tfen DuanÄ±zÄ± Esirgemeyin.</label>
</div>

<div id="cok" class="card hidden">
  <h2>Ã‡oklu Ders</h2>

  <div class="table-wrap">
    <table>
      <tr>
        <th>Ders</th><th>Vize</th><th>GeÃ§me</th><th>Final (En Az)</th>
      </tr>
<script>
for (let i=1;i<=10;i++) {
  document.write(`
  <tr>
    <td><input id="ders${i}"></td>
    <td><input type="number" id="v${i}" oninput="satirHesap(${i})"></td>
    <td><input type="number" id="o${i}" value="35" oninput="satirHesap(${i})"></td>
    <td><input id="f${i}" readonly></td>
  </tr>`);
}
</script>
    </table>
  </div>

  <button class="action" onclick="aktar()">Kaydet / Kopyala</button>
</div>

</div>
</div>

<script>
function sekme(id, btn) {
  document.querySelectorAll('.card').forEach(c=>c.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
  document.querySelectorAll('.sidebar button').forEach(b=>b.classList.remove("active"));
  btn.classList.add("active");
}

function kontrol100(d,i){
  if(d>100){ alert("HiÃ§bir sÄ±nav puanÄ± 100'den bÃ¼yÃ¼k olamaz"); i.value=""; return false;}
  return true;
}

function tekHesapla(){
  const vIn=vize,fIn=final;
  let v=vIn.value===""?0:Number(vIn.value);
  let f=fIn.value;
  if(!kontrol100(v,vIn))return;
  if(f!==""&&!kontrol100(Number(f),fIn))return;
  if(f!==""){
    const o=v*0.3+Number(f)*0.7;
    tekSonuc.innerText=`Ortalama: ${o.toFixed(2)} ${o>=35?"âœ… GeÃ§ti":"âŒ KaldÄ±"}`;
  } else {
    const g=(35-v*0.3)/0.7;
    tekSonuc.innerText=g>100?"Bu notlarla geÃ§mek mÃ¼mkÃ¼n deÄŸil.":`GeÃ§mek iÃ§in finalden en az ${g.toFixed(2)} almalÄ±sÄ±nÄ±z.`;
  }
}

function satirHesap(i){
  const vIn=document.getElementById("v"+i);
  const oIn=document.getElementById("o"+i);
  if(vIn.value===""||oIn.value==="")return;
  const v=Number(vIn.value),o=Number(oIn.value);
  if(!kontrol100(v,vIn)||!kontrol100(o,oIn))return;
  const f=(o-v*0.3)/0.7;
  document.getElementById("f"+i).value=f>100?"â€”":f<=0?"0":f.toFixed(2);
}

/* âœ… SADECE BURASI DÃœZELTÄ°LDÄ° */
function aktar(){
  let txt="AÃ–F Finalden AlÄ±nmasÄ± Gereken Notlar\n\n";
  let s=1;

  for(let i=1;i<=10;i++){
    const d=document.getElementById("ders"+i).value.trim();
    const v=document.getElementById("v"+i).value.trim();
    const f=document.getElementById("f"+i).value.trim();

    /* ðŸ‘‰ HEPSÄ° BOÅžSA KESÄ°NLÄ°KLE EKLEME */
    if(d==="" && v==="" && f==="") continue;

    txt+=`${s}. Ders - ${d||"Ders"} | Vize: ${v||0} | Final (en az): ${f||"-"}\n`;
    s++;
  }

  if(/Mobi|Android/i.test(navigator.userAgent)){
    navigator.clipboard.writeText(txt);
    alert("KopyalandÄ± ðŸ“‹");
  } else {
    const blob=new Blob([txt],{type:"text/plain"});
    const a=document.createElement("a");
    a.href=URL.createObjectURL(blob);
    a.download="aof-sonuclar.txt";
    a.click();
  }
}
</script>

</body>
</html>

